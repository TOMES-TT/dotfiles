#! /bin/sh

# # Set up monitor orientation and refresh rate (3 monitors)

# # Remember that you can use ArandR to set up positioning graphically, then put its outputs here

# xrandr --output DisplayPort-0 --off --output DisplayPort-1 --mode 1600x900 --pos 0x485 --rotate normal --output DisplayPort-2 --primary --mode 2560x1440 --pos 3520x0 --rotate normal --output HDMI-A-0 --mode 1920x1080 --pos 1600x540 --rotate normal

# # (2 monitors)

xrandr --output DisplayPort-2 --primary --mode 2560x1440 --pos 0x0 --rotate normal --output DisplayPort-0 --mode 1600x900 --pos 2560x312 --rotate normal --output DisplayPort-1 --off --output HDMI-A-0 --off

# xrandr --output DisplayPort-2 --mode 2560x1440 --pos 1920x0 --rotate normal --output HDMI-A-0 --mode 1920x1080 --pos 0x514 --rotate normal
# (1 monitor)
#xrandr--output HDMI-A-0 --primary --mode 1600x900 --pos 0x0 --rotate normal --output DisplayPort-0 --off --output DisplayPort-1 --off --output Displayport-2 --off


# # Start important programs/change important settings

xrdb -merge ~/.Xresources
#setxkbmap -option ctrl:swapcaps
#setxkbmap -option compose:menu
pgrep -x sxhkd > /dev/null || sxhkd &
# picom  &
#$HOME/.config/polybar/colorblocks/scripts/pywal.sh &
feh --bg-fill $HOME/pictures/wallpapers/solid-raild.png &
cat $HOME/.cache/wal/colors.css

# # set colors automatically using wal's current theme 

# source the colors
. "${HOME}/.cache/wal/colors.sh"
 Set the border colors.
bspc config normal_border_color "$color0"	#focused window on the current desktop
bspc config focused_border_color "$color7"	#focused window on any other desktop
bspc config active_border_color "$color9"	#all other windows
bspc config presel_feedback_color "$color9"	#preselection color

#dropbox &
xrdb -merge ~/.cache/wal/colors.Xresources &
$HOME/.config/polybar/colorblocks/launch.sh &
fcitx -d &
export KB_MOUSE_TOGGLE="off"

# # Set desktops to monitors

# # 3 monitor setup
#bspc monitor DisplayPort-2 -d 7 8 9 10
#bspc monitor HDMI-A-0 -d 4 5 6
#bspc monitor DisplayPort-1 -d 1 2 3

# # 2 monitor setup
bspc monitor DisplayPort-2 -d 1 2 3 4 5
bspc monitor DisplayPort-0 -d 6 7 8 9 10
#bspc monitor DisplayPort-2 -s HDMI-A-0 #switches the monitors around when HDMI is to the left of DP

# # 1 monitor setup
#bspc monitor HDMI-A-0 -d 1 2 3 4 5 6 7 8 9 10

# # Make steam games go to a fullscreen window in desktop 6

# steamlib=/media/gamedisk/SteamLibrary # path to your steamlibrary
# mygames=$(ls $steamlib/steamapps/common/appmanifest_*.acf | sed 's/[0^9]*//g') # this sed command removes everything but the digits

bspc rule -a KeePassXC --one-shot desktop='^5' && keepassxc &

bspc config border_width		3
bspc config window_gap			8
bspc config focus_follows_pointer	true

bspc config split_ratio			0.55
bspc config borderless_monocle		false
bspc config gapless_monocle		false

# to add new rules: make sure you use xprop to grab the WM_CLASS string; this is what bspc uses for rules
bspc rule -a Gimp desktop='^8' state=floating follow=on
bspc rule -a Chromium desktop='^2'
bspc rule -a mplayer2 state=floating
bspc rule -a Kupfer.py focus=on
bspc rule -a Screenkey manage=off
bspc rule -a RuneLite state=floating
bspc rule -a Discord desktop='^6'
bspc rule -a discord desktop='^6'
bspc rule -a steam desktop='^4'
bspc rule -a Steam desktop='^4'
# bspc rule -a Steam state=floating
bspc rule -a Zathura state=tiled
bspc rule -a net-runelite-launcher-Launcher state=floating
bspc rule -a net-runelite-client-RuneLite --one-shot state=floating
